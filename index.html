<html>
	<head>
		<title>Vappulaskuri</title>
		<meta charset="UTF-8">
		<meta name="description" content="Vappulaskuri: kuinka monta päivää vappuun">
		<meta name="keywords" content="vappu,juhla,laskuri,countdown,vappuun">
		<meta name="author" content="Aarno Aukia @aarnoaukia">
	</head>
	<body>
		<h1>Vappulaskuri</h1>
		<div id="countdown"></div>
		<script type="text/javascript" src="https://cdn.rawgit.com/mckamey/countdownjs/master/countdown.min.js"></script>
		<script>
			function update() {
				countdown.setLabels(
					'| sekuntti| minuutti| tunti| päivä',
					'| sekunttia| minuuttia| tuntia| päivää',
					' ja ',
					', ',
					'nyt');

				var now = new Date();
				var target;
				var year;
				
				if (now.getMonth() == 4 && now.getDate() == 0) { // 1.5. !!!
					year = now.getFullYear();
				} else if (now.getMonth() > 3) { // past April and not 1.5. -> next vappu
					year = now.getFullYear() + 1;
				} else { // before 1.5. -> this year
					year = now.getFullYear();
				}

				var begin = new Date(year, 3, 30, 12); // 30.4.2016 12:00
				var end = new Date(year, 4, 1, 23, 59); // 1.5.2016 23:59 

				if (begin < now && now < end) {
					document.getElementById('countdown').innerHTML = "Nyt on vappu !!!"
				} else {
					var cd = countdown(
						begin,
						function(ts){
							document.getElementById('countdown').innerHTML = ts.toHTML("strong") + " vappuun";
						},
						countdown.YEARS|countdown.DAYS|countdown.HOURS|countdown.MINUTES|countdown.SECONDS);

				}

			}
			update();
		</script>
		<a href="https://github.com/arska/vappulaskuri"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
		<a href="https://twitter.com/aarnoaukia" style="position: absolute; bottom: 1em; ">Made with <3 by @aarnoaukia</a>
		<script>
			  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
			  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
			  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
			  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			  ga('create', 'UA-62957812-1', 'auto');
			  ga('send', 'pageview');
		</script>
	</body>
</html>
